
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Terra Tech offers AI-powered sustainable agriculture advisory services to empower farmers with expert insights on soil health, pest control, crop management, and more." />
  <meta name="theme-color" content="#388e3c" />
  <title>Terra Tech - Professional Advisory for Sustainable Agriculture</title>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />

  <!-- AOS CSS -->
  <link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet" />

  <!-- Custom CSS -->
  <link rel="stylesheet" href="1chatgpt.css" />
</head>
<body>
  <!-- Header -->
  <header class="header" data-aos="fade-down" data-aos-duration="1000">
    <div class="container header-container">
      <h1 class="logo">üå± Terra Tech</h1>
      <nav class="nav-links" aria-label="Primary navigation">
        <a href="#home">Home</a>
        <a href="#advisory">Advisory</a>
        <a href="#solutions">Solutions</a>
        <a href="#resources">Resources</a>
        <a href="#about">About Us</a>
        <a href="#contact">Contact</a>
      </nav>
    </div>
  </header>

  <!-- Hero Section -->
  <section
    id="home"
    class="section hero"
    style="background: url('https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=1200&q=80') center/cover no-repeat;"
  >
    <div class="container hero-container" style="background: rgba(255,255,255,0.85); border-radius: 16px; padding: 2rem;" data-aos="fade-up" data-aos-duration="1200">
      <div class="hero-content">
        <h1>Empowering Farmers with AI-Powered Insights</h1>
        <h2 style="color:#388e3c; font-weight:600;">Your trusted partner for sustainable agriculture advisory</h2>
        <p>
          Get expert solutions for soil health, pest control, crop management, and more. Terra Tech's AI assistant and advisory team are here to help you grow smarter.
        </p>
        <a href="#solutions" class="cta-btn">Explore Solutions</a>
      </div>
      <div class="hero-image">
        <img
          src="https://images.unsplash.com/photo-1464983953574-0892a716854b?auto=format&fit=crop&w=500&q=80"
          alt="Smart Farming"
          loading="lazy"
        />
      </div>
    </div>
  </section>

  <!-- Advisory Section -->
  <section id="advisory" class="section advisory" data-aos="fade-right" data-aos-duration="1000">
    <div class="container">
      <h2>Expert Advisory</h2>
      <p>
        Connect with our agronomists for personalized advice on crop planning, pest management, and sustainable practices. Our experts are available for online consultations and field visits.
      </p>
      <br>
      <div class="advisory-image">
        <img
          src="https://images.unsplash.com/photo-1500534314209-a25ddb2bd429?auto=format&fit=crop&w=600&q=80"
          alt="Advisory Team"
          style="border-radius:12px"
          loading="lazy"
        />
      </div>
    </div>
  </section>

  <!-- Solutions Section -->
  <section id="solutions" class="section solutions" data-aos="fade-left" data-aos-duration="1000">
    <div class="container">
      <h2>AI-Powered Solutions</h2>
      <div class="solutions-grid">
        <div class="solution-card" data-aos="zoom-in" data-aos-delay="100">
          <img src="https://img.icons8.com/fluency/96/insect.png" alt="Pest Control Icon" loading="lazy" />
          <h3>Pest &amp; Disease Control</h3>
          <p>Identify pests and diseases with AI and get eco-friendly treatment recommendations.</p>
        </div>
        <div class="solution-card" data-aos="zoom-in" data-aos-delay="200">
          <img src="https://img.icons8.com/color/96/soil.png" alt="Soil Health Icon" loading="lazy" />
          <h3>Soil Health Analysis</h3>
          <p>Learn how to improve soil quality for higher yields and stronger crops.</p>
        </div>
        <div class="solution-card" data-aos="zoom-in" data-aos-delay="300">
          <img src="https://img.icons8.com/color/96/plant-under-sun.png" alt="Crop Management Icon" loading="lazy" />
          <h3>Crop Management</h3>
          <p>Get advice on planting schedules, irrigation, and nutrient optimization.</p>
        </div>
        <div class="solution-card" data-aos="zoom-in" data-aos-delay="400">
          <img src="https://img.icons8.com/color/96/tractor.png" alt="Machinery Advisory" loading="lazy" />
          <h3>Machinery Advisory</h3>
          <p>Find the best equipment for your farm and get maintenance tips from experts.</p>
        </div>
      </div>
    </div>
  </section>
  
 <!-- Wrapper -->
<div class="query-container">
   
  <h1 style="text-align:center; color:#2f7a32;">üå± Terra Tech Farming Assistant</h1>

  <div class="query-container">

    <!-- Case 1 -->
    <div class="query-card">
      <h3>üå± Case 1: Upload Image Query</h3>
      <p>Upload one or more farming images.</p>
      <input id="image-only-input" type="file" accept="image/*" class="file-input" multiple />
      <div id="preview1" class="preview"></div>
      <button id="image-only-submit" class="submit-btn">Submit Image Query</button>
      <div id="response1" class="response-box"></div>
    </div>

    <!-- Case 2 -->
    <div class="query-card">
      <h3>üí¨ Case 2: Enter Text Query</h3>
      <p>Type your farming question here.</p>
      <input id="text-only-input" type="text" placeholder="Type your farming question..." class="text-input" />
      <button id="text-only-submit" class="submit-btn">Submit Text Query</button>
      <div id="response2" class="response-box"></div>
    </div>

    <!-- Case 3 -->
    <div class="query-card">
      <h3>üåø Case 3: Upload Image and Enter Text</h3>
      <p>Combine text and multiple images for detailed queries.</p>
      <input id="both-text-input" type="text" placeholder="Describe issue..." class="text-input" />
      <input id="both-image-input" type="file" accept="image/*" class="file-input" multiple />
      <div id="preview3" class="preview"></div>
      <button id="both-submit" class="submit-btn">Submit Both</button>
      <div id="response3" class="response-box"></div>
    </div>

  </div>

  <!-- Loader -->
  <div id="loader" class="loader"></div>

  <script>
    // Removed duplicate declaration of API_KEY
    // Removed duplicate declaration of API_URL

    function showLoader() {
      document.getElementById("loader").style.display = "block";
    }
    function hideLoader() {
      document.getElementById("loader").style.display = "none";
    }

    function fileToBase64(file) {
      return new Promise((resolve, reject) => {
        const reader = new FileReader();
        reader.onload = () => resolve(reader.result.split(",")[1]);
        reader.onerror = reject;
        reader.readAsDataURL(file);
      });
    }

    function showPreview(fileInputId, previewId) {
      const files = document.getElementById(fileInputId).files;
      const previewDiv = document.getElementById(previewId);
      previewDiv.innerHTML = "";
      if (files.length > 0) {
        Array.from(files).forEach(file => {
          const reader = new FileReader();
          reader.onload = e => {
            const img = document.createElement("img");
            img.src = e.target.result;
            previewDiv.appendChild(img);
          };
          reader.readAsDataURL(file);
        });
      }
    }

    async function askAIwithImages(files, userText, responseBoxId) {
      showLoader();
      try {
        const imagePromises = Array.from(files).map(file => fileToBase64(file));
        const base64Images = await Promise.all(imagePromises);

        const contentArray = [{ type: "text", text: userText || "Analyze these farming images and suggest a solution." }];
        base64Images.forEach(img => {
          contentArray.push({ type: "image_url", image_url: { url: `data:image/jpeg;base64,${img}` } });
        });

        const res = await fetch(API_URL, {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            "Authorization": `Bearer ${API_KEY}`
          },
          body: JSON.stringify({
            model: "gpt-4o-mini",
            messages: [
              { role: "system", content: "You are Terra Tech assistant. Always give concise farming-related solutions." },
              { role: "user", content: contentArray }
            ],
            max_tokens: 400
          })
        });

        const data = await res.json();
        const answer = data.choices?.[0]?.message?.content || "‚ö†Ô∏è No response from AI.";

        const box = document.getElementById(responseBoxId);
        box.style.display = "block";
        box.textContent = "üå± " + answer;

      } catch (err) {
        console.error(err);
        alert("Error analyzing images.");
      }
      hideLoader();
    }

    async function askAItextOnly(query, responseBoxId) {
      showLoader();
      try {
        const res = await fetch(API_URL, {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            "Authorization": `Bearer $("API key")`
          },
          body: JSON.stringify({
            model: "gpt-4o-mini",
            messages: [
              { role: "system", content: "You are Terra Tech assistant. Only answer agriculture-related questions." },
              { role: "user", content: query }
            ],
            max_tokens: 200
          })
        });

        const data = await res.json();
        const answer = data.choices?.[0]?.message?.content || "‚ö†Ô∏è No response from AI.";

        const box = document.getElementById(responseBoxId);
        box.style.display = "block";
        box.textContent = "üå± " + answer;

      } catch (err) {
        console.error(err);
        alert("Error fetching AI response.");
      }
      hideLoader();
    }

    // Case 1: Multiple Images Only
    document.getElementById("image-only-input").addEventListener("change", () => {
      showPreview("image-only-input", "preview1");
    });
    document.getElementById("image-only-submit").addEventListener("click", async () => {
      const files = document.getElementById("image-only-input").files;
      if (files.length === 0) return alert("Please upload at least one image.");
      askAIwithImages(files, null, "response1");
    });

    // Case 2: Text Only
    document.getElementById("text-only-submit").addEventListener("click", () => {
      const text = document.getElementById("text-only-input").value;
      if (!text.trim()) return alert("Please enter your question.");
      askAItextOnly(text, "response2");
    });

    // Case 3: Text + Multiple Images
    document.getElementById("both-image-input").addEventListener("change", () => {
      showPreview("both-image-input", "preview3");
    });
    document.getElementById("both-submit").addEventListener("click", async () => {
      const text = document.getElementById("both-text-input").value;
      const files = document.getElementById("both-image-input").files;
      if (files.length > 0) {
        askAIwithImages(files, text, "response3");
      } else if (text.trim()) {
        askAItextOnly(text, "response3");
      } else {
        alert("Please provide text or upload images.");
      }
    });
  </script>



  <!-- Resources Section -->
  <section id="resources" class="section resources" data-aos="fade-up" data-aos-duration="1000">
    <div class="container">
      <h2>Resources</h2>
      <br>
      <ul>
        <li>
          <a href="https://www.fao.org/sustainable-agriculture/en/" target="_blank" rel="noopener noreferrer"
            >FAO Sustainable Agriculture</a
          >
        </li>
        <li>
          <a href="https://www.icar.org.in/" target="_blank" rel="noopener noreferrer">ICAR - Indian Council of Agricultural Research</a>
        </li>
        <li>
          <a href="https://www.agriculture.com/" target="_blank" rel="noopener noreferrer">Agriculture.com</a>
        </li>
      </ul>
    </div>
  </section>

  <!-- About Us Section -->
  <section id="about" class="section about" data-aos="fade-right" data-aos-duration="1000">
    <div class="container about-container">
      <div class="about-text">
        <h2>About Us</h2>
        <p>
          Terra Tech is dedicated to revolutionizing agriculture through technology. Our platform equips farmers with the tools and knowledge to face modern challenges while ensuring sustainability.
        </p>
        <p>
          Our team of agronomists, data scientists, and engineers constantly update our knowledge base to reflect the latest agricultural research and best practices.
        </p>
        <br>
      </div>
      <div class="about-image">
        <img
          src="https://images.unsplash.com/photo-1465101046530-73398c7f28ca?auto=format&fit=crop&w=600&q=80"
          alt="Farming Technology"
          loading="lazy"
        />
      </div>
    </div>
  </section>

  <!-- Contact Section -->
  <section id="contact" class="section contact" data-aos="fade-up" data-aos-duration="1000">
    <div class="container">
      <h2>Contact Us</h2>
      <p>Email: <a href="mailto:info@terratech.com">info@terratech.com</a></p>
      <p>Phone: +91-12345-67890</p>
      <div class="social-links">
        <a href="https://twitter.com/" target="_blank" rel="noopener noreferrer">Twitter</a> |
        <a href="https://facebook.com/" target="_blank" rel="noopener noreferrer">Facebook</a> |
        <a href="https://instagram.com/" target="_blank" rel="noopener noreferrer">Instagram</a>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer" data-aos="fade-up" data-aos-duration="1000">
    <div class="container">
      <p>&copy; 2025 Terra Tech. All rights reserved.</p>
      <p>Made with Care for sustainable farming.</p>
    </div>
  </footer>

  <!-- Chatbot Button -->
  <button id="chat-button" class="chat-button" type="button" aria-expanded="false" aria-controls="chat-container">
    üí¨ Ask Terra Tech
  </button>

  <!-- Chatbot Container -->
  <!-- Chatbot Container -->
  <div id="chat-container" class="chat-container hidden" role="region" aria-label="Terra Tech chat assistant">
    <div class="chat-header">
      <h3>Terra Tech Assistant</h3>
      <button id="close-chat" class="close-chat" aria-label="Close chat">&times;</button>
    </div>
    <div id="chat-box" class="chat-box" aria-live="polite" role="log">
      <div class="message bot-message">üëã Welcome to Terra Tech! Ask me anything about farming and agriculture.</div>
    </div>
    <div class="chat-input">
      <input id="user-input" type="text" placeholder="Type your farming question..." />
      <button id="send-button">Send</button>
    </div>
  </div>

  <script>
    const API_KEY = "YOUR_OPENAI_API_KEY"; // ‚ö†Ô∏è Replace with your actual key
    const API_URL = "https://api.openai.com/v1/chat/completions";

    const chatButton = document.getElementById('chat-button');
    const chatContainer = document.getElementById('chat-container');
    const closeChatBtn = document.getElementById('close-chat');
    const chatBox = document.getElementById('chat-box');
    const userInput = document.getElementById('user-input');
    const sendButton = document.getElementById('send-button');

    chatButton.addEventListener('click', () => {
      chatContainer.classList.toggle('hidden');
      userInput.focus();
    });
    closeChatBtn.addEventListener('click', () => {
      chatContainer.classList.add('hidden');
    });

    sendButton.addEventListener('click', sendMessage);
    userInput.addEventListener('keydown', (e) => {
      if (e.key === 'Enter') sendMessage();
    });

    function appendMessage(text, sender = 'bot') {
      const messageDiv = document.createElement('div');
      messageDiv.classList.add('message', sender === 'bot' ? 'bot-message' : 'user-message');
      messageDiv.innerHTML = text;
      chatBox.appendChild(messageDiv);
      chatBox.scrollTop = chatBox.scrollHeight;
    }

    function formatResponse(text) {
      let formatted = text
        .replace(/\*\*(.*?)\*\*/g, "<strong>$1</strong>")
        .replace(/- (.*?)(\n|$)/g, "‚Ä¢ $1<br>")
        .replace(/\n/g, "<br>");
      return formatted;
    }

    function createCollapsibleResponse(text) {
      const formatted = formatResponse(text);
      return `
        <div class="response-content">
          <div class="response-text collapsed">${formatted}</div>
          <button class="toggle-btn">Read more ‚ñº</button>
        </div>
      `;
    }

    document.addEventListener("click", function(e) {
      if (e.target.classList.contains("toggle-btn")) {
        const textDiv = e.target.previousElementSibling;
        if (textDiv.classList.contains("collapsed")) {
          textDiv.classList.remove("collapsed");
          e.target.textContent = "Show less ‚ñ≤";
        } else {
          textDiv.classList.add("collapsed");
          e.target.textContent = "Read more ‚ñº";
        }
      }
    });

    async function sendMessage() {
      const message = userInput.value.trim();
      if (!message) return;

      appendMessage(message, 'user');
      userInput.value = '';

      // Loader
      const loaderDiv = document.createElement('div');
      loaderDiv.classList.add('loader');
      chatBox.appendChild(loaderDiv);
      chatBox.scrollTop = chatBox.scrollHeight;

      try {
        const res = await fetch(API_URL, {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            "Authorization": `Bearer ${API_KEY}`
          },
          body: JSON.stringify({
            model: "gpt-4o-mini",
            messages: [
              { role: "system", content: "You are Terra Tech assistant. Only answer if the query is related to farming/agriculture. If not, politely say you only help with agriculture." },
              { role: "user", content: message }
            ],
            max_tokens: 300
          })
        });

        const data = await res.json();
        loaderDiv.remove();

        if (data.choices && data.choices.length > 0) {
          appendMessage(createCollapsibleResponse(data.choices[0].message.content.trim()), 'bot');
        } else {
          appendMessage("‚ö†Ô∏è Sorry, I could not process your request.", 'bot');
        }

      } catch (err) {
        loaderDiv.remove();
        console.error(err);
        appendMessage("‚ö†Ô∏è Error connecting to AI service.", 'bot');
      }
    }
  </script>

  <!-- AOS JS -->
  <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>

  <!-- Custom JS -->
  <script src="2try.js"></script>

  <script>
    // Initialize AOS
    AOS.init({
      once: true,
      duration: 800,
      easing: 'ease-in-out',
    });
  </script>
</body>
</html>
